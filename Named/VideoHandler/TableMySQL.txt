CREATE TABLE items (
id INT NOT NULL AUTO_INCREMENT,
PRIMARY KEY(id),
start TIME NOT NULL,
end TIME NOT NULL,
topic_id INT NOT NULL,
INDEX item_top (topic_id),
FOREIGN KEY (topic_id)
    REFERENCES topic(id)
    ON RESTRICT CASCADE,
name VARCHAR(30) NOT NULL,
subject_id INT NOT NULL,
INDEX name_subj (subject_id)
FOREIGN KEY (subject_id)
    REFERENCES subject(id)
    ON RESTRICT CASCADE,
settings BOOL NOT NULL,
interview BOOL NOT NULL,
snippets BOOL NOT NULL,
environment_id INT NOT NULL,
INDEX env_envir (environment_id)
FOREIGN KEY (environment_id)
    REFERENCES environment(id)
    ON RECTRICT CASCADE
)ENGINE=INNODB;

CREATE TABLE topic (
id INT NOT NULL AUTO_INCREMENT,
PRIMARY KEY(id),
name VARCHAR(30) NOT NULL
)ENGINE=INNODB;

CREATE TABLE environment (
id INT NOT NULL AUTO_INCREMENT,
PRIMARY KEY(id),
value VARCHAR(20) NOT NULL,
) ENGINE=INNODB;

CREATE TABLE subject (
id INT NOT NULL AUTO_INCREMENT,
PRIMARY KEY(id),
name_v VARCHAR(10) NOT NULL,
platform VARCHR(20) NOT NULL,
type_id INT NOT NULL,
INDEX typ_id (type_id),
FOREIGN KEY (type_id)
    REFERENCES type(id)
    ON DELETE RESTRICT,
number INT NOT NULL,
) ENGINE=INNODB;

CREATE TABLE type (
id INT NOT NULL,
PRIMARY KEY (id)
) ENGINE=INNODB;

CREATE TABLE teacher (
id INT NOT NULL,
PRIMARY KEY (id),
email VARCHAR(30),
subject_id INT NOT NULL,
INDEX subj_teach (subject_id),
FOREIGN KEY (subject_id)
    REFERENCES subject(id)
    ON DELETE RECTRICT,
last_name VARCHAR (30),
name_id INT NOT NULL,
INDEX teach_teachn (name_id),
FOREIGN KEY (name_id),
    REFERENCES teachern (id)
    ON DELETE RECTRICT,
patronymic_id INT NOT NULL,
INDEX teach_teachn (patronymic_id),
FOREIGN KEY (patronymic_id),
    REFERENCES teacherp (id)
    ON DELETE RECTRICT,
    phone VARCHAR(15)
) ENGINE=INNODB;

CREATE TABLE teachern (
id INT NOT NULL,
PRIMARY KEY (id),
value VARCHAR(30),
) ENGINE=INNODB;

CREATE TABLE teacherp (
id INT NOT NULL,
PRIMARY KEY (id),
value VARCHAR(30),
) ENGINE=INNODB;

